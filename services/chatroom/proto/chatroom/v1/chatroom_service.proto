syntax = "proto3";

package chatroom.v1;

option go_package = "github.com/dietzy1/chatapp/services/auth/proto/chatroom/v1;chatroomv1";

service AuthService {
    rpc CreateRoom(CreateRoomRequest) returns (CreateRoomResponse) {}
    rpc DeleteRoom(DeleteRoomRequest) returns (DeleteRoomResponse) {}
    rpc JoinRoom(JoinRoomRequest) returns (JoinRoomResponse) {}
    rpc LeaveRoom(LeaveRoomRequest) returns (LeaveRoomResponse) {}
    rpc GetRoom(GetRoomRequest) returns (GetRoomResponse) {}
}


message CreateRoomRequest {
    string name = 1;
    string owner_uuid = 2;
    string session = 3;
    }
    
    message CreateRoomResponse {
    string error = 1;
    string chatroom_uuid = 2;
    }
    
    message DeleteRoomRequest {
    string chatroom_uuid = 1;
    string owner_uuid = 2;
    string session = 3;
    }
    
    message DeleteRoomResponse {
    string error = 1;
    }
    
    message JoinRoomRequest {
    string chatroom_uuid = 1;
    string user_uuid = 2;
    string session = 3;
    }
    
    message JoinRoomResponse {
    string error = 2;
    }
    
    message LeaveRoomRequest {
    string chatroom_uuid = 1;
    string user_uuid = 2;
    string session = 3;
    }
    
    message LeaveRoomResponse {
    string error = 1;
    }
    
    message GetRoomRequest {
    string chatroom_uuid = 1;
    string session = 2;
    }
    
    message GetRoomResponse {
    string status = 1;
    string error = 2;
    string name = 3;
    string owner_uuid = 4;
    repeated string users = 5;
    string session = 6;
    }